# clinico-test

# SQL 問題處理

## 情境

---

目前您任職於一間財務公司，並擔任資訊部門的開發工程師一職。

## 問題

---

在 3 月時，您負責的財務系統發生異常，導致有些發票應該連號開立而發生了跳號未正常開出。

## 需求

---

請利用 SQL 語言查詢 (invoices 資料表) 出到底有那些號碼是未正常開立，已知的資訊如下

### **發票規則**

- 電子發票格式為兩個英文字母大寫加上八個數字，例如：AA-12345678。
- 本月公司申請了四本電子發票（一本50張發票字軌），字軌區間如下：
    - AA-12345600 ~ AA-12345649
    - AB-98765400 ~ AB-98765449
    - AC-45678900 ~ AC-45678999
- 本月只開立至AC-45678988，AC-45678989起為空白發票，不屬於斷號。

### 資料表

- 發票本(invoice_books)
| id | track | begin_number | end_number | year | month | created_at | updated_at |
| --- | --- | --- | --- | --- | --- | --- | --- |
| 1 | AA | 12345600 | 12345649 | 113 | 03 | 2024-03-01 00:00:00 | 2024-03-10 12:00:00 |
| 2 | AB | 98765400 | 98765449 | 113 | 03 | 2024-03-01 00:00:00 | 2024-03-15 12:00:00 |
| 3 | AC | 45678900 | 45678999 | 113 | 03 | 2024-03-01 00:00:00 | 2024-03-20 12:00:00 |

- 每張發票開立的紀錄表 (invoices)
| id | invoice_number | invoice_date | created_at | updated_at |
| --- | --- | --- | --- | --- |
| 1 | AA-12345600 | 2024-03-01 | 2024-03-01 09:00:00 | 2024-03-01 09:00:00 |
| … | … | … | … | … |
| 168 | AC-45678988 | 2024-03-31 | 2024-03-31 22:10:30 | 2024-03-31 22:10:30 |

## 任務

---

請回傳以下未開立的資料欄位結果

id，invoice_number，track，year，month，begin_number，end_number
